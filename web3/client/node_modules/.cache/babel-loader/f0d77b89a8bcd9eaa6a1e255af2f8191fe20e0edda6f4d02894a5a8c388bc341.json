{"ast":null,"code":"var _jsxFileName = \"D:\\\\web3\\\\client\\\\src\\\\pages\\\\Home.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useContract } from '../contexts/ContractContext';\nimport Twitt from '../components/Twitt';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Home() {\n  _s();\n  const {\n    contract,\n    accounts,\n    account\n  } = useContract();\n  const [twitts, setTwitts] = useState([]);\n  const getAllTwitts = async () => {\n    try {\n      const uniqueTwittsSet = new Set();\n      for (const acc of accounts) {\n        if (acc != account) {\n          const _twitts = await contract.methods.UserTwitts(acc).call({\n            from: account\n          });\n          _twitts.forEach(twit => uniqueTwittsSet.add(twit));\n        }\n      }\n      ;\n      const uniqueTwittsArray = [...uniqueTwittsSet];\n      setTwitts(uniqueTwittsArray);\n    } catch (err) {\n      alert(err);\n    }\n  };\n  useEffect(() => {\n    if (contract) {\n      getAllTwitts();\n    }\n  }, [contract]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        marginBottom: '5vh'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          gap: '5vh',\n          width: '80%'\n        },\n        children: twitts.sort((a, b) => Number(b.createdTime) - Number(a.createdTime)).map(twit => {\n          return /*#__PURE__*/_jsxDEV(Twitt, {\n            twit: twit\n          }, twit.createdTime, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n_s(Home, \"oVzGzzCdlR+VrFQZ8PDjsawdZVI=\", false, function () {\n  return [useContract];\n});\n_c = Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","useContract","Twitt","jsxDEV","_jsxDEV","Home","_s","contract","accounts","account","twitts","setTwitts","getAllTwitts","uniqueTwittsSet","Set","acc","_twitts","methods","UserTwitts","call","from","forEach","twit","add","uniqueTwittsArray","err","alert","className","children","style","display","justifyContent","marginBottom","flexDirection","gap","width","sort","a","b","Number","createdTime","map","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/web3/client/src/pages/Home.jsx"],"sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport { useContract } from '../contexts/ContractContext';\r\nimport Twitt from '../components/Twitt';\r\n\r\nexport default function Home() {\r\n  const { contract, accounts, account } = useContract();\r\n  const [twitts, setTwitts] = useState([]);\r\n\r\n  const getAllTwitts = async() => {\r\n    try {\r\n      const uniqueTwittsSet = new Set();\r\n\r\n      for (const acc of accounts) {\r\n        if(acc != account) {\r\n          const _twitts = await contract.methods.UserTwitts(acc).call({ from: account });\r\n        \r\n          _twitts.forEach((twit) => uniqueTwittsSet.add(twit));\r\n        }\r\n      };\r\n\r\n      const uniqueTwittsArray = [...uniqueTwittsSet];\r\n\r\n      setTwitts(uniqueTwittsArray);\r\n    } catch (err) {\r\n      alert(err);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (contract) {\r\n      getAllTwitts();\r\n    }\r\n  }, [contract]);\r\n\r\n  return (\r\n    <div className='main'>\r\n      <div className=\"container\" style={{display: 'flex', justifyContent: 'center', marginBottom: '5vh'}}>\r\n        <div style={{display: 'flex', flexDirection: 'column', gap: '5vh', width: '80%'}}>\r\n          {\r\n            twitts.sort((a, b) => Number(b.createdTime) - Number(a.createdTime)).map((twit) => {\r\n              return (\r\n                <Twitt key={twit.createdTime}  twit={twit} />\r\n              );\r\n            })\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAChD,SAASC,WAAW,QAAQ,6BAA6B;AACzD,OAAOC,KAAK,MAAM,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExC,eAAe,SAASC,IAAIA,CAAA,EAAG;EAAAC,EAAA;EAC7B,MAAM;IAAEC,QAAQ;IAAEC,QAAQ;IAAEC;EAAQ,CAAC,GAAGR,WAAW,CAAC,CAAC;EACrD,MAAM,CAACS,MAAM,EAAEC,SAAS,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAExC,MAAMY,YAAY,GAAG,MAAAA,CAAA,KAAW;IAC9B,IAAI;MACF,MAAMC,eAAe,GAAG,IAAIC,GAAG,CAAC,CAAC;MAEjC,KAAK,MAAMC,GAAG,IAAIP,QAAQ,EAAE;QAC1B,IAAGO,GAAG,IAAIN,OAAO,EAAE;UACjB,MAAMO,OAAO,GAAG,MAAMT,QAAQ,CAACU,OAAO,CAACC,UAAU,CAACH,GAAG,CAAC,CAACI,IAAI,CAAC;YAAEC,IAAI,EAAEX;UAAQ,CAAC,CAAC;UAE9EO,OAAO,CAACK,OAAO,CAAEC,IAAI,IAAKT,eAAe,CAACU,GAAG,CAACD,IAAI,CAAC,CAAC;QACtD;MACF;MAAC;MAED,MAAME,iBAAiB,GAAG,CAAC,GAAGX,eAAe,CAAC;MAE9CF,SAAS,CAACa,iBAAiB,CAAC;IAC9B,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZC,KAAK,CAACD,GAAG,CAAC;IACZ;EACF,CAAC;EAED1B,SAAS,CAAC,MAAM;IACd,IAAIQ,QAAQ,EAAE;MACZK,YAAY,CAAC,CAAC;IAChB;EACF,CAAC,EAAE,CAACL,QAAQ,CAAC,CAAC;EAEd,oBACEH,OAAA;IAAKuB,SAAS,EAAC,MAAM;IAAAC,QAAA,eACnBxB,OAAA;MAAKuB,SAAS,EAAC,WAAW;MAACE,KAAK,EAAE;QAACC,OAAO,EAAE,MAAM;QAAEC,cAAc,EAAE,QAAQ;QAAEC,YAAY,EAAE;MAAK,CAAE;MAAAJ,QAAA,eACjGxB,OAAA;QAAKyB,KAAK,EAAE;UAACC,OAAO,EAAE,MAAM;UAAEG,aAAa,EAAE,QAAQ;UAAEC,GAAG,EAAE,KAAK;UAAEC,KAAK,EAAE;QAAK,CAAE;QAAAP,QAAA,EAE7ElB,MAAM,CAAC0B,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKC,MAAM,CAACD,CAAC,CAACE,WAAW,CAAC,GAAGD,MAAM,CAACF,CAAC,CAACG,WAAW,CAAC,CAAC,CAACC,GAAG,CAAEnB,IAAI,IAAK;UACjF,oBACElB,OAAA,CAACF,KAAK;YAAyBoB,IAAI,EAAEA;UAAK,GAA9BA,IAAI,CAACkB,WAAW;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAgB,CAAC;QAEjD,CAAC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAED;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACvC,EAAA,CA7CuBD,IAAI;EAAA,QACcJ,WAAW;AAAA;AAAA6C,EAAA,GAD7BzC,IAAI;AAAA,IAAAyC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}